name       : toxcore
version    : 0.2.2
release    : 17
source     :
    - https://github.com/TokTok/c-toxcore/archive/v0.2.2.tar.gz : a3b25d8bd92b9526b47ba1f60a2893d2154a80bb7ae690f44b5a2dea41c76ea1
license    : GPL-3.0-or-later
component  : security.library
summary    : toxcore is the core library for Tox communication clients.
description: |
    Tox is a peer to peer (serverless) instant messenger aimed at making security and privacy easy to obtain for regular users. It uses NaCl for its encryption and authentication.
libsplit   : no
builddeps  :
    - pkgconfig(libconfig)
    - pkgconfig(libsodium)
    - pkgconfig(opus)
    - pkgconfig(vpx)
setup      : |
    %cmake -DENABLE_STATIC=OFF .
build      : |
    %make
install    : |
    %make_install
    install -Dm00644 $pkgfiles/tox-bootstrapd.service $installdir/%libdir%/systemd/system/tox-bootstrapd.service
    install -Dm00644 $pkgfiles/tox-bootstrapd.conf $installdir/etc/tox-bootstrapd.conf
    install -Dm00644 $pkgfiles/tox-bootstrapd.sysusers $installdir/%libdir%/sysusers.d/tox-bootstrapd.conf
    install -Dm00644 $pkgfiles/toxcore.tmpfiles $installdir/%libdir%/tmpfiles.d/tox-bootstrapd.conf
